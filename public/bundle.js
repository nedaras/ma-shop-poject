"use strict";(()=>{document.body.addEventListener("htmx:beforeSwap",t=>{if(t.detail.pathInfo.requestPath==="/htmx/search"){switch(t.detail.xhr.status){case 404:case 500:break;default:return}t.detail.isError=!1,t.detail.shouldSwap=!0}});document.body.addEventListener("htmx:afterSwap",t=>{if(t.detail.pathInfo.requestPath!=="/htmx/search")return;let e=document.getElementById("search"),o=e==null?void 0:e.nextElementSibling;if(!e||!o)return;function r(){o.remove(),e.removeEventListener("input",r)}e.addEventListener("input",r)});document.body.addEventListener("htmx:beforeSwap",t=>{if(t.detail.pathInfo.requestPath.startsWith("/htmx/product")){switch(t.detail.xhr.status){case 404:break;default:return}t.detail.isError=!1,t.detail.shouldSwap=!0}});document.body.addEventListener("htmx:beforeSwap",t=>{if(t.detail.isError||!t.detail.pathInfo.requestPath.startsWith("/htmx/product")||t.detail.serverResponse!=="")return;let e=document.getElementById("placeholder");e&&(a(e),t.detail.shouldSwap=!1)});document.body.addEventListener("htmx:beforeSwap",t=>{if(t.detail.isError||t.detail.pathInfo.requestPath!=="/bag")return;let e=document.getElementById("placeholder");if(!e)return;let o=e.querySelector("div");o&&(e.style.transitionDuration="0ms",e.style.transform="",o.innerHTML="")});document.body.addEventListener("htmx:afterSwap",t=>{if(t.detail.failed||!t.detail.pathInfo.requestPath.startsWith("/htmx/add_to_bag"))return;let e=document.getElementById("placeholder");if(!e)return;let o=e.getElementsByTagName("img");if(o.length==0)return;let r=0;for(let n of o)n.onload=()=>{if(o.length!=++r)return;let u=document.getElementById("placeholder-close");e.style.transitionDuration="",e.style.transform="translateY(0%)",e.onclick=i(setTimeout(()=>a(e),2e3)),u&&(u.onclick=()=>a(e))}});function i(t){return()=>{clearTimeout(t)}}function a(t){t.style.transform="",setTimeout(()=>{let e=t.querySelector("div");e&&(e.innerHTML="")},200)}document.body.addEventListener("htmx:beforeSwap",t=>{t.detail.pathInfo.requestPath.startsWith("/address/")&&t.detail.xhr.status==404&&(t.detail.isError=!1,t.detail.shouldSwap=!0)});document.body.addEventListener("htmx:afterSwap",t=>{if(t.detail.failed||!t.detail.pathInfo.requestPath.startsWith("/address/"))return;let e=document.getElementById("country_selector");if(!e)return;let o=e.style.color;e.onchange=()=>{let n=e.options[e.selectedIndex].disabled;e.style.color=n?o:"black"};let r=e.options[e.selectedIndex].disabled;e.style.color=r?o:"black"});window.addEventListener("load",()=>{let t=document.getElementById("country_selector");if(!t)return;let e=t.style.color;t.onchange=()=>{let r=t.options[t.selectedIndex].disabled;t.style.color=r?e:"black"};let o=t.options[t.selectedIndex].disabled;t.style.color=o?e:"black"});})();
//# sourceMappingURL=bundle.js.map
