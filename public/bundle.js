"use strict";(()=>{document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.pathInfo.requestPath==="/htmx/search"){switch(e.detail.xhr.status){case 404:case 500:break;default:return}e.detail.isError=!1,e.detail.shouldSwap=!0}});document.body.addEventListener("htmx:afterSwap",e=>{if(e.detail.pathInfo.requestPath!=="/htmx/search")return;let t=document.getElementById("search"),o=t==null?void 0:t.nextElementSibling;if(!t||!o)return;function r(){o.remove(),t.removeEventListener("input",r)}t.addEventListener("input",r)});document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.pathInfo.requestPath.startsWith("/htmx/product")){switch(e.detail.xhr.status){case 404:break;default:return}e.detail.isError=!1,e.detail.shouldSwap=!0}});document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.isError||!e.detail.pathInfo.requestPath.startsWith("/htmx/product")||e.detail.serverResponse!=="")return;let t=document.getElementById("placeholder");t&&(a(t),e.detail.shouldSwap=!1)});document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.isError||e.detail.pathInfo.requestPath!=="/bag")return;let t=document.getElementById("placeholder");if(!t)return;let o=t.querySelector("div");o&&(t.style.transitionDuration="0ms",t.style.transform="",o.innerHTML="")});document.body.addEventListener("htmx:afterSwap",e=>{if(e.detail.failed||!e.detail.pathInfo.requestPath.startsWith("/htmx/add_to_bag"))return;let t=document.getElementById("placeholder");if(!t)return;let o=t.getElementsByTagName("img");if(o.length==0)return;let r=0;for(let s of o)s.onload=()=>{if(o.length!=++r)return;let u=document.getElementById("placeholder-close");t.style.transitionDuration="",t.style.transform="translateY(0%)",t.onclick=c(setTimeout(()=>a(t),2e3)),u&&(u.onclick=()=>a(t))}});function c(e){return()=>{clearTimeout(e)}}function a(e){e.style.transform="",setTimeout(()=>{let t=e.querySelector("div");t&&(t.innerHTML="")},200)}document.body.addEventListener("htmx:afterSwap",e=>{if(e.detail.failed||!e.detail.pathInfo.requestPath.startsWith("/htmx/address/"))return;let t=document.getElementById("country_selector");if(!t)return;let o=t.style.color;t.onchange=()=>{let s=t.options[t.selectedIndex].disabled;t.style.color=s?o:"black"};let r=t.options[t.selectedIndex].disabled;t.style.color=r?o:"black"});})();
//# sourceMappingURL=bundle.js.map
