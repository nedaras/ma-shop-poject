"use strict";(()=>{document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.pathInfo.requestPath==="/htmx/search"){switch(e.detail.xhr.status){case 404:case 500:break;default:return}e.detail.isError=!1,e.detail.shouldSwap=!0}});document.body.addEventListener("htmx:afterSwap",e=>{if(e.detail.pathInfo.requestPath!=="/htmx/search")return;let t=document.getElementById("search"),o=t==null?void 0:t.nextElementSibling;if(!t||!o)return;function s(){o.remove(),t.removeEventListener("input",s)}t.addEventListener("input",s)});document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.pathInfo.requestPath.startsWith("/htmx/product")){switch(e.detail.xhr.status){case 404:break;default:return}e.detail.isError=!1,e.detail.shouldSwap=!0}});document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.isError||!e.detail.pathInfo.requestPath.startsWith("/htmx/product"))return;let t=document.getElementById("placeholder");t&&e.detail.serverResponse==""&&(a(t),e.detail.shouldSwap=!1)});document.body.addEventListener("htmx:afterSwap",e=>{if(e.detail.failed||!e.detail.pathInfo.requestPath.startsWith("/htmx/add_to_bag"))return;let t=document.getElementById("placeholder");if(!t)return;let o=t.getElementsByTagName("img");if(o.length==0)return;let s=0;for(let r of o)r.onload=()=>{if(o.length!=++s)return;let u=document.getElementById("placeholder-close");t.style.transform="translateY(0%)",t.onclick=i(setTimeout(()=>a(t),2e3)),u&&(u.onclick=()=>a(t))}});function i(e){return()=>{clearTimeout(e)}}function a(e){e.style.transform="",setTimeout(()=>{let t=e.querySelector("div");t&&(t.innerHTML="")},200)}document.body.addEventListener("htmx:afterSwap",e=>{if(e.detail.failed||!e.detail.pathInfo.requestPath.startsWith("/htmx/address/"))return;let t=document.getElementById("country_selector");if(!t)return;let o=t.style.color;t.onchange=()=>{let r=t.options[t.selectedIndex].disabled;t.style.color=r?o:"black"};let s=t.options[t.selectedIndex].disabled;t.style.color=s?o:"black"});})();
//# sourceMappingURL=bundle.js.map
