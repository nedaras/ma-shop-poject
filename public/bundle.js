"use strict";(()=>{document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.pathInfo.requestPath==="/htmx/search"){switch(e.detail.xhr.status){case 404:case 500:break;default:return}e.detail.isError=!1,e.detail.shouldSwap=!0}});document.body.addEventListener("htmx:afterSwap",e=>{if(e.detail.pathInfo.requestPath!=="/htmx/search")return;let t=document.getElementById("search"),r=t==null?void 0:t.nextElementSibling;if(!t||!r)return;function o(){r.remove(),t.removeEventListener("input",o)}t.addEventListener("input",o)});document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.pathInfo.requestPath.startsWith("/htmx/product")){switch(e.detail.xhr.status){case 404:break;default:return}e.detail.isError=!1,e.detail.shouldSwap=!0}});document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.isError||!e.detail.pathInfo.requestPath.startsWith("/htmx/product")||e.detail.serverResponse!=="")return;let t=document.getElementById("placeholder");t&&(p(t),e.detail.shouldSwap=!1)});document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.isError||e.detail.pathInfo.requestPath!=="/bag")return;let t=document.getElementById("placeholder");if(!t)return;let r=t.querySelector("div");r&&(t.style.transitionDuration="0ms",t.style.transform="",r.innerHTML="")});document.body.addEventListener("htmx:afterSwap",e=>{if(e.detail.failed||!e.detail.pathInfo.requestPath.startsWith("/htmx/add_to_bag"))return;let t=document.getElementById("placeholder");if(!t)return;let r=t.getElementsByTagName("img");if(r.length==0)return;let o=0;for(let n of r)n.onload=()=>{if(r.length!=++o)return;let a=document.getElementById("placeholder-close");t.style.transitionDuration="",t.style.transform="translateY(0%)",t.onclick=w(setTimeout(()=>p(t),2e3)),a&&(a.onclick=()=>p(t))}});function w(e){return()=>{clearTimeout(e)}}function p(e){e.style.transform="",setTimeout(()=>{let t=e.querySelector("div");t&&(t.innerHTML="")},200)}document.body.addEventListener("htmx:beforeSwap",e=>{if(e.detail.isError&&!(!e.detail.pathInfo.requestPath.startsWith("/address/")&&!e.detail.pathInfo.requestPath.startsWith("/htmx/address/"))){switch(e.detail.xhr.status){case 404:case 429:case 500:break;default:return}e.detail.isError=!1,e.detail.shouldSwap=!0}});var m="https://js.stripe.com/v3",g=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,S="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",b=function(){for(var t=document.querySelectorAll('script[src^="'.concat(m,'"]')),r=0;r<t.length;r++){var o=t[r];if(g.test(o.src))return o}return null},f=function(t){var r=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",o=document.createElement("script");o.src="".concat(m).concat(r);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(o),o},L=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"4.1.0",startTime:r})},i=null,d=null,c=null,P=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},q=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},R=function(t){return i!==null?i:(i=new Promise(function(r,o){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&t&&console.warn(S),window.Stripe){r(window.Stripe);return}try{var n=b();if(n&&t)console.warn(S);else if(!n)n=f(t);else if(n&&c!==null&&d!==null){var a;n.removeEventListener("load",c),n.removeEventListener("error",d),(a=n.parentNode)===null||a===void 0||a.removeChild(n),n=f(t)}c=q(r,o),d=P(o),n.addEventListener("load",c),n.addEventListener("error",d)}catch(E){o(E);return}}),i.catch(function(r){return i=null,Promise.reject(r)}))},I=function(t,r,o){if(t===null)return null;var n=t.apply(void 0,r);return L(n,o),n},u,x=!1,h=function(){return u||(u=R(null).catch(function(t){return u=null,Promise.reject(t)}),u)};Promise.resolve().then(function(){return h()}).catch(function(e){x||console.warn(e)});var v=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];x=!0;var n=Date.now();return h().then(function(a){return I(a,r,n)})};document.body.addEventListener("htmx:beforeSwap",e=>{e.detail.isError||e.detail.pathInfo.requestPath==="/htmx/checkout"&&(T(e.detail.serverResponse),e.detail.shouldSwap=!1)});async function T(e){let t=await v("pk_test_51Plzla09srk6l0GXkHcOPFrRM2z2zUMhs8VraClycfkq9oUBeCzLKehc6RfTAbaIQQ6fPKDLAAeNBNeFBizV0vlt00cDaxIkDF"),r=await(t==null?void 0:t.initEmbeddedCheckout({clientSecret:e}));r==null||r.mount("#stripe")}})();
//# sourceMappingURL=bundle.js.map
