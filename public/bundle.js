"use strict";(()=>{document.body.addEventListener("htmx:beforeSwap",t=>{if(t.detail.pathInfo.requestPath==="/htmx/search"){switch(t.detail.xhr.status){case 404:case 500:break;default:return}t.detail.isError=!1,t.detail.shouldSwap=!0}});document.body.addEventListener("htmx:afterSwap",t=>{if(t.detail.pathInfo.requestPath!=="/htmx/search")return;let e=document.getElementById("search"),r=e==null?void 0:e.nextElementSibling;if(!e||!r)return;function n(){r.remove(),e.removeEventListener("input",n)}e.addEventListener("input",n)});document.body.addEventListener("htmx:beforeSwap",t=>{if(t.detail.pathInfo.requestPath.startsWith("/htmx/product")){switch(t.detail.xhr.status){case 404:break;default:return}t.detail.isError=!1,t.detail.shouldSwap=!0}});document.body.addEventListener("htmx:beforeSwap",t=>{if(t.detail.isError||!t.detail.pathInfo.requestPath.startsWith("/htmx/product")||t.detail.serverResponse!="")return;let e=document.getElementById("placeholder");e&&(o(e),t.detail.shouldSwap=!1)});document.body.addEventListener("htmx:afterSwap",t=>{if(t.detail.failed||!t.detail.pathInfo.requestPath.startsWith("/htmx/add_to_bag"))return;let e=document.getElementById("placeholder");if(!e)return;let r=e.getElementsByTagName("img");if(r.length==0)return;let n=0;for(let a of r)a.onload=()=>{if(r.length!=++n)return;let l=document.getElementById("placeholder-close");e.style.transform="translateY(0%)",e.onclick=s(setTimeout(()=>o(e),2e3)),l&&(l.onclick=()=>o(e))}});function s(t){return e=>{e.preventDefault(),clearTimeout(t)}}function o(t){t.style.transform="",setTimeout(()=>{let e=t.querySelector("ul");e&&(e.innerHTML="")},200)}document.body.addEventListener("htmx:afterSwap",t=>{if(t.detail.failed||!t.detail.pathInfo.requestPath.startsWith("/htmx/address/"))return;let e=document.getElementById("country_selector");if(!e)return;let r=e.style.color;e.onchange=()=>{let a=e.options[e.selectedIndex].disabled;e.style.color=a?r:"black"};let n=e.options[e.selectedIndex].disabled;e.style.color=n?r:"black"});})();
//# sourceMappingURL=bundle.js.map
