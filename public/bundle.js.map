{
  "version": 3,
  "sources": ["../node_modules/@stripe/stripe-js/dist/index.mjs", "../node_modules/@stripe/stripe-js/lib/index.mjs", "../src/scripts/index.ts", "../src/scripts/bag.ts", "../src/scripts/sneaker.ts", "../src/scripts/address.ts", "../src/scripts/checkout.ts"],
  "sourcesContent": ["var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"4.1.0\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar onErrorListener = null;\nvar onLoadListener = null;\n\nvar onError = function onError(reject) {\n  return function () {\n    reject(new Error('Failed to load Stripe.js'));\n  };\n};\n\nvar onLoad = function onLoad(resolve, reject) {\n  return function () {\n    if (window.Stripe) {\n      resolve(window.Stripe);\n    } else {\n      reject(new Error('Stripe.js not available'));\n    }\n  };\n};\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\n        var _script$parentNode;\n\n        // remove event listeners\n        script.removeEventListener('load', onLoadListener);\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\n        // reload script to trigger 'load' event\n\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\n        script = injectScript(params);\n      }\n\n      onLoadListener = onLoad(resolve, reject);\n      onErrorListener = onError(reject);\n      script.addEventListener('load', onLoadListener);\n      script.addEventListener('error', onErrorListener);\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  }); // Resets stripePromise on error\n\n  return stripePromise[\"catch\"](function (error) {\n    stripePromise = null;\n    return Promise.reject(error);\n  });\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\nvar stripePromise$1;\nvar loadCalled = false;\n\nvar getStripePromise = function getStripePromise() {\n  if (stripePromise$1) {\n    return stripePromise$1;\n  }\n\n  stripePromise$1 = loadScript(null)[\"catch\"](function (error) {\n    // clear cache on error\n    stripePromise$1 = null;\n    return Promise.reject(error);\n  });\n  return stripePromise$1;\n}; // Execute our own script injection after a tick to give users time to do their\n// own script injection.\n\n\nPromise.resolve().then(function () {\n  return getStripePromise();\n})[\"catch\"](function (error) {\n  if (!loadCalled) {\n    console.warn(error);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\n\n  return getStripePromise().then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n", "export * from '../dist/index.mjs';\n", "import { StatusInternalServerError, StatusNotFound } from \"./http\"\n\ndocument.body.addEventListener('htmx:beforeSwap', (e) => {\n  if (e.detail.pathInfo.requestPath !== '/htmx/search') return\n  switch (e.detail.xhr.status) {\n  case StatusNotFound:\n  case StatusInternalServerError:\n    break\n  default:\n    return\n  }\n  e.detail.isError = false\n  e.detail.shouldSwap = true\n})\n\ndocument.body.addEventListener('htmx:afterSwap', (e) => {\n  if (e.detail.pathInfo.requestPath !== '/htmx/search') return\n\n  const search = document.getElementById('search') as HTMLInputElement\n  const label = search?.nextElementSibling as HTMLLabelElement\n\n  if (!search) return\n  if (!label) return\n\n  function listener() {\n    label.remove()\n    search.removeEventListener('input', listener)\n  }\n\n  search.addEventListener('input', listener)\n})\n", "import { StatusNotFound } from \"./http\"\n\ndocument.body.addEventListener('htmx:beforeSwap', (e) => {\n  if (!e.detail.pathInfo.requestPath.startsWith('/htmx/product')) return\n  switch (e.detail.xhr.status) {\n  case StatusNotFound:\n    break\n  default:\n    return\n  }\n  e.detail.isError = false\n  e.detail.shouldSwap = true\n})\n", "document.body.addEventListener('htmx:beforeSwap', (e) => {\n  if (e.detail.isError) return\n  if (!e.detail.pathInfo.requestPath.startsWith('/htmx/product')) return\n  if (e.detail.serverResponse !== \"\") return\n\n  const placeholder = document.getElementById('placeholder')\n  if (!placeholder) return\n\n  clear(placeholder)\n  e.detail.shouldSwap = false\n})\n\ndocument.body.addEventListener('htmx:beforeSwap', (e) => {\n  if (e.detail.isError) return\n  if (e.detail.pathInfo.requestPath !== '/bag') return\n\n  const placeholder = document.getElementById('placeholder')\n  if (!placeholder) return\n\n  const div = placeholder.querySelector('div')\n  if (!div) return\n\n  placeholder.style.transitionDuration = '0ms'\n  placeholder.style.transform = ''\n\n  div.innerHTML = ''\n})\n\ndocument.body.addEventListener('htmx:afterSwap', (e) => {\n  if (e.detail.failed) return\n  if (!e.detail.pathInfo.requestPath.startsWith('/htmx/add_to_bag')) return\n\n  const placeholder = document.getElementById('placeholder')\n  if (!placeholder) return\n\n  const images = placeholder.getElementsByTagName('img')\n  if (images.length == 0) return\n\n  let i = 0\n  for (const image of images) {\n    image.onload = () => {\n      if (images.length != ++i) return\n      const close = document.getElementById('placeholder-close')\n\n      placeholder.style.transitionDuration = ''\n      placeholder.style.transform = 'translateY(0%)'\n      placeholder.onclick = clickHandler(\n        setTimeout(() => clear(placeholder), 2000)\n      )\n\n      close && (close.onclick = () => clear(placeholder))\n    }\n  }\n})\n\nfunction clickHandler(timeout: number) {\n  return () => {\n    clearTimeout(timeout)\n  }\n}\n// todo: we would need whole day to sit make that scroll fell right\n\nfunction clear(placeholder: HTMLElement) {\n  placeholder.style.transform = ''\n  setTimeout(() => {\n    const div = placeholder.querySelector('div')\n    div && (div.innerHTML = '')\n  }, 200)\n}\n", "import { StatusInternalServerError, StatusNotFound, StatusTooManyRequests } from \"./http\"\n\ndocument.body.addEventListener('htmx:beforeSwap', (e) => {\n  if (!e.detail.isError) return\n  if (!e.detail.pathInfo.requestPath.startsWith(\"/address/\") && !e.detail.pathInfo.requestPath.startsWith(\"/htmx/address/\")) return\n\n  switch (e.detail.xhr.status) {\n  case StatusNotFound:\n  case StatusTooManyRequests:\n  case StatusInternalServerError:\n    break\n  default:\n    return\n  }\n\n  e.detail.isError = false\n  e.detail.shouldSwap = true\n})\n", "document.body.addEventListener('htmx:beforeSwap', (e) => {\n  // make it on htmx-request or smth i need to extend the indicator\n  if (e.detail.isError) return\n  if (e.detail.pathInfo.requestPath !== \"/htmx/checkout\") return\n\n  showStripe(e.detail.serverResponse)\n  e.detail.shouldSwap = false\n})\n\nasync function showStripe(clientSecret: string) {\n  const loadStripe = (await import('@stripe/stripe-js')).loadStripe\n\n  const stripe = await loadStripe('pk_test_51Plzla09srk6l0GXkHcOPFrRM2z2zUMhs8VraClycfkq9oUBeCzLKehc6RfTAbaIQQ6fPKDLAAeNBNeFBizV0vlt00cDaxIkDF')\n  const checkout = await stripe?.initEmbeddedCheckout({clientSecret})\n\n  checkout?.mount('#stripe')\n}\n\n"],
  "mappings": "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",
  "names": ["V3_URL", "V3_URL_REGEX", "EXISTING_SCRIPT_MESSAGE", "findScript", "injectScript", "registerWrapper", "stripePromise", "onErrorListener", "onLoadListener", "onError", "onLoad", "loadScript", "initStripe", "stripePromise$1", "loadCalled", "getStripePromise", "loadStripe", "init_dist", "__esmMin", "scripts", "i", "script", "params", "queryString", "headOrBody", "stripe", "startTime", "reject", "resolve", "_script$parentNode", "error", "maybeStripe", "args", "_len", "_key", "lib_exports", "__export", "loadStripe", "init_lib", "__esmMin", "init_dist", "search", "label", "listener", "placeholder", "clear", "div", "images", "i", "image", "close", "clickHandler", "timeout", "showStripe", "clientSecret", "loadStripe", "stripe", "checkout"]
}
